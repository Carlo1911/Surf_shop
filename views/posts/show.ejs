<% layout('layouts/post-show-layout') -%>

<h1><%= post.title %></h1>

<div>Price: <%= post.price %></div>
<div>Description: <%= post.description %></div>
<div>Location: <%= post.location %></div>
<div>
    <% post.images.forEach(function(image) { %>
    <img src="<%= image.url %>" alt="surf board image" width="200px">
    <% }); %>
</div>
<div id='map'></div>
<div><a href="/posts/<%= post.id %>/edit"><button>Edit</button></a></div>
<div>
    <form action="/posts/<%= post.id %>?_method=DELETE" method="POST">
        <input type="submit" value="Delete">
    </form>
</div>

<h2>Create review</h2>
<form action="/posts/<%= post.id %>/reviews" method="POST">
    <textarea name="review[body]" ></textarea>
    <input type="number" name="review[rating]" min="1" max="5" required>

    <input type="submit">
</form>
<!-- Display all the reviews -->
<h3>Reviews</h3>
<% post.reviews.forEach(function(review){ %>
    <div>
        Author: <%= review.author.username %>
        <br>
        <%= review.body %>
        <br>
        Rating: <%= review.rating %>
    </div>
    <hr>
<% }); %>